<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/warehouse/styles.26505e302600677d6854.css">.tl-edges{max-width:100%;overflow-x:hidden}.tl-wrapper{width:100%;float:left;position:relative}.tl-wrapper+.tl-wrapper{margin-left:-100%;margin-right:0}:root{--code-font-family:Menlo,"Roboto Mono",Courier New,monospace;--code-font-color:#fff;--code-background-color:#262c35;--string:#74a95d;--variable:#eb5665;--property:#fff;--number:#bc7f4d;--operator:#9da6b5;--punctuation:#9da6b5;--comment:#848991;--function:#39a4f0;--builtin:#ffcb6b;--keyword:#cd66df;--attribute:#ff0086;--class:#fff;--tag:#fb660a;--error:#fff;--light-background:#f1f3f5}pre[class*=language-]{box-shadow:0 0 30px rgba(0,0,0,.26)}code[class*=language-],pre[class*=language-]{-webkit-font-smoothing:subpixel-antialiased;color:var(--code-font-color);font-family:var(--code-font-family);font-size:.8rem;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;font-weight:400;line-height:1.7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1.5rem;margin:2rem 0;overflow:auto}@media screen and (min-width:800px){code[class*=language-],pre[class*=language-]{font-size:.9rem}pre[class*=language-]{padding:1.5rem;margin-left:auto;margin-right:auto}}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:var(--code-background-color)}:not(pre)>code[class*=language-]{padding:.1rem .3rem}code.language-text,pre.language-text{background:var(--code-background-color)!important;color:var(--light-background)!important;box-shadow:none}code.language-shell:before{content:"$ ";color:var(--comment)}pre.language-terminal{position:relative;background:#fff;color:#595c62;box-shadow:0 8px 16px rgba(100,120,130,.35);padding-top:3rem;margin:2rem 0;border:1px solid #c9cccf}code.language-terminal{color:#595c62}pre.language-terminal:before{content:"\2022   \2022   \2022";position:absolute;top:0;left:0;background:#e0e3e7;color:var(--code-font-color);width:100%;font-size:2.5rem;margin:0;line-height:0;padding:18px 0 16px;text-indent:6px;letter-spacing:-18px}.gatsby-highlight-code-line{background-color:var(--code-background-color);display:block;margin-right:-1rem;margin-left:-1rem;padding-right:1rem;padding-left:.75rem;border-left:.25rem solid #748ffc}.token.cdata,.token.comment,.token.doctype,.token.important,.token.prolog{color:var(--comment)}.token.punctuation{color:var(--punctuation)}.token.namespace{opacity:.7}.token.property{color:var(--property)}.token.constant,.token.deleted,.token.symbol,.token.tag{color:var(--tag)}.token.number{color:var(--number);font-weight:700}.token.char,.token.inserted,.token.url{color:var(--code-font-color)}.token.builtin{color:var(--builtin)}.token.attr-name,.token.selector{color:var(--attribute)}.token.attr-value,.token.string{color:var(--string)}.token.operator{color:var(--operator)}.token.atrule,.token.keyword{color:var(--keyword)}.token.function{color:var(--function)}.language-css,.token.boolean,.token.class-name{color:var(--class)!important}.token.regex{color:var(--keyword)}.token.variable{color:var(--variable)}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.filename{font-size:.9rem;margin-bottom:-.8rem;padding:.5rem 1.5rem .75rem;line-height:1.8;background-color:#000;color:#fff;z-index:1;margin-left:-1.5rem;margin-right:-1.5rem}@media screen and (min-width:800px){.filename{padding:.5rem 1rem .75rem;border-top-left-radius:.3rem;border-top-right-radius:.3rem;margin-left:auto;margin-right:auto}}code::selection,pre::selection{text-shadow:none;color:inherit;background:hsla(0,0%,58.8%,.3)!important}code[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;color:inherit;background:hsla(0,0%,58.8%,.3)!important}</style><meta name="generator" content="Gatsby 2.23.12"/><title data-react-helmet="true">Create Python Executable using Pyinstaller | WAREHOUSE</title><meta data-react-helmet="true" name="description" content="ZachZeng&#x27;s blog recording interesting thoughts"/><meta data-react-helmet="true" property="og:title" content="Create Python Executable using Pyinstaller"/><meta data-react-helmet="true" property="og:description" content="ZachZeng&#x27;s blog recording interesting thoughts"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="ZachZeng"/><meta data-react-helmet="true" name="twitter:title" content="Create Python Executable using Pyinstaller"/><meta data-react-helmet="true" name="twitter:description" content="ZachZeng&#x27;s blog recording interesting thoughts"/><link rel="icon" href="/warehouse/favicon-32x32.png?v=d479a5f1597500870ed7a1ce5c1aaffe"/><link rel="manifest" href="/warehouse/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/warehouse/icons/icon-48x48.png?v=d479a5f1597500870ed7a1ce5c1aaffe"/><link rel="apple-touch-icon" sizes="72x72" href="/warehouse/icons/icon-72x72.png?v=d479a5f1597500870ed7a1ce5c1aaffe"/><link rel="apple-touch-icon" sizes="96x96" href="/warehouse/icons/icon-96x96.png?v=d479a5f1597500870ed7a1ce5c1aaffe"/><link rel="apple-touch-icon" sizes="144x144" href="/warehouse/icons/icon-144x144.png?v=d479a5f1597500870ed7a1ce5c1aaffe"/><link rel="apple-touch-icon" sizes="192x192" href="/warehouse/icons/icon-192x192.png?v=d479a5f1597500870ed7a1ce5c1aaffe"/><link rel="apple-touch-icon" sizes="256x256" href="/warehouse/icons/icon-256x256.png?v=d479a5f1597500870ed7a1ce5c1aaffe"/><link rel="apple-touch-icon" sizes="384x384" href="/warehouse/icons/icon-384x384.png?v=d479a5f1597500870ed7a1ce5c1aaffe"/><link rel="apple-touch-icon" sizes="512x512" href="/warehouse/icons/icon-512x512.png?v=d479a5f1597500870ed7a1ce5c1aaffe"/><link href="https://fonts.googleapis.com/css?family=Muli:300,400,700,800&amp;display=swap" rel="stylesheet"/><link as="script" rel="preload" href="/warehouse/app-97dc5b416f5e9639f3cb.js"/><link as="script" rel="preload" href="/warehouse/component---src-templates-single-post-js-0174d029c3b2374a0132.js"/><link as="script" rel="preload" href="/warehouse/commons-63041b349090193d18b4.js"/><link as="script" rel="preload" href="/warehouse/styles-c2fe8482057191dca484.js"/><link as="script" rel="preload" href="/warehouse/framework-f600a0dcdbbe2ab3be17.js"/><link as="script" rel="preload" href="/warehouse/webpack-runtime-0d5b8b8873c5371f5305.js"/><link as="fetch" rel="preload" href="/warehouse/page-data/create-python-executable-using-pyinstaller/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/warehouse/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="tl-edges"><div class="tl-wrapper tl-wrapper--mount tl-wrapper-status--entered" style="z-index:1;opacity:1"><div class="sc-AxjAm isYSKt"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.1/css/all.css" integrity="sha384-xxzQGERXS00kBmZW/6qxqJPyxW3UR0BPsL4c8ILaIWXva5kFi7TxkIIaMiKtqV1Q" crossorigin="anonymous"/><header class="sc-Axmtr dmoNlK"><a class="logo" href="/warehouse/"><img src="/warehouse/static/16c79ea21955007880ffad43e5333eb7/logo.svg" alt="My logo"/></a><div class="NavButtons"><a class="sc-AxmLO eiqwVe" href="/warehouse/blog"><p class="sc-fzozJi IyXVj">Blog</p><div src="/warehouse/static/80c2f151b50b40da97467061eef62875/blog.svg" class="sc-fzoLsD gkLRac"></div></a><a class="sc-AxmLO eiqwVe" href="/warehouse/playground"><p class="sc-fzozJi IyXVj">Playground</p><div src="/warehouse/static/8ff685a3316a6f3b09ae5b3d5fbea02a/playground.svg" class="sc-fzoLsD hVDmuI"></div></a></div></header><main class="sc-AxheI htlNGS"><h1 class="sc-AxiKw cQXmCq">Create Python Executable using Pyinstaller</h1><p class="sc-AxhUy dEbWpQ">Jul 23rd 2020</p><div class="sc-fznKkj jYAtEX"><a tag="python" class="sc-fznZeY iGozpd" href="/warehouse/tag/python">python</a><a tag="code" class="sc-fznZeY dyfpRd" href="/warehouse/tag/code">code</a></div><article class="sc-fznJRM hSJIRb"><div><h1>Introduction</h1>
<p>Pyinstaller packages pythin applications and its dependencies into a stand-lone executables.</p>
<blockquote>
<p>Pyinstaller can be used across platforms. However, the bundled executable can only be used under the environment it be created. i.e. If you want to create .exe file you need to run pyinstaller under Windows environment.</p>
</blockquote>
<h1>Installation</h1>
<p>Pyinstaller can be installed through pip:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">pip <span class="token function">install</span> pyinstaller</code></pre></div>
<h3>Requirements:</h3>
<ul>
<li>
<p>Python:</p>
<ul>
<li>2.7 or 3.5-3.7</li>
</ul>
</li>
<li>
<p>Windows:</p>
<ul>
<li>Windows XP or newer</li>
</ul>
</li>
<li>
<p>Mac OS:</p>
<ul>
<li>Mac OS X 10.7(Lion) or newer</li>
</ul>
</li>
</ul>
<h1>Getting Started</h1>
<p>Go to your program's directory and run:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">pyinstaller pythonScriptName.py</code></pre></div>
<p>By default, a folder with all dependencies and executables will be created in a subdirectory called <code class="language-text">dist</code>.</p>
<h3>Bundling to a single executable</h3>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">pyinstaller -F pythonScriptName.py</code></pre></div>
<p>or</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">pyinstaller --onefile pythonScriptName.py</code></pre></div>
<p>Startup time of the single executable is longer than the folder.</p>
<h1>Questions</h1>
<h2>Relative path issue</h2>
<p>When file is executed under environment without python or other environments instead of the local machine, the icon is usually not displayed correctly. It is because the file path the executable use has changed.</p>
<h3>Solutions:</h3>
<ul>
<li>
<h4>Using absolute file path</h4>
</li>
<li>
<h4>Freeze file path</h4>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">import</span> os
<span class="token keyword">import</span> sys

config_name <span class="token operator">=</span> <span class="token string">'myapp.cfg'</span>

<span class="token keyword">def</span> <span class="token function">app_path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token comment">#return the base application path</span>
<span class="token keyword">if</span> <span class="token builtin">getattr</span><span class="token punctuation">(</span>sys<span class="token punctuation">,</span> <span class="token string">'frozen'</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>executable<span class="token punctuation">)</span>
<span class="token keyword">elif</span> __file__<span class="token punctuation">:</span>
    <span class="token keyword">return</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span>

config_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>application_path<span class="token punctuation">,</span> config_name<span class="token punctuation">)</span></code></pre></div>
<p>app_path() return the execute path of the application.</p>
</li>
</ul>
<br>
<h2>Size of executable is too large</h2>
<ul>
<li>
<h4>Use <code class="language-text">from ... import ...</code> instead of <code class="language-text">import</code></h4>
<p>The whole package will be bundled if using <code class="language-text">import</code>. Bundled the APIs that you only need.</p>
</li>
<li>
<h4>Pipenv</h4>
<p>When using Anaconda, as Anaconda has lots of built-in libraries, it will bundle many unnecessary modules. To get rid of them, we can use a clean environment and here I choose <strong><em>pipenv</em></strong>.</p>
<p>Pipenv is a tool to create and manages a virtualenv for the projects.</p>
<p>Install pipenv</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">pip <span class="token function">install</span> pipenv</code></pre></div>
<p>Go to the directory of our project to create a virtual environment.</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">pipenv <span class="token function">install</span></code></pre></div>
<p>Activate the project's virtualenv</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">pipenv shell</code></pre></div>
<p>Install the necessary dependencies</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">pip <span class="token function">install</span> pyinstaller
<span class="token punctuation">..</span>.</code></pre></div>
<p>Bundle under this virtual environment</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">pyinstaller pythonScriptName.py</code></pre></div>
<p>To delete the virtual environment, go to the project's directory and run <code class="language-text">pipenv --rm</code></p>
</li>
</ul></div></article></main></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/create-python-executable-using-pyinstaller";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-97dc5b416f5e9639f3cb.js"],"component---src-pages-404-js":["/component---src-pages-404-js-3d448a6deade4fa29fb2.js"],"component---src-pages-about-js":["/component---src-pages-about-js-937cd5e0e4348a6be0da.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-5eeb0eb0043484553dfc.js"],"component---src-pages-index-js":["/component---src-pages-index-js-ac7a17a26852e3d2d705.js"],"component---src-pages-playground-js":["/component---src-pages-playground-js-e6f3d16d84e5db3ac42d.js"],"component---src-pages-team-js":["/component---src-pages-team-js-73ad51344adff8fff6e2.js"],"component---src-templates-single-post-js":["/component---src-templates-single-post-js-0174d029c3b2374a0132.js"],"component---src-templates-tag-posts-js":["/component---src-templates-tag-posts-js-7cb0ca776198ca39fe09.js"]};/*]]>*/</script><script src="/warehouse/webpack-runtime-0d5b8b8873c5371f5305.js" async=""></script><script src="/warehouse/framework-f600a0dcdbbe2ab3be17.js" async=""></script><script src="/warehouse/styles-c2fe8482057191dca484.js" async=""></script><script src="/warehouse/commons-63041b349090193d18b4.js" async=""></script><script src="/warehouse/component---src-templates-single-post-js-0174d029c3b2374a0132.js" async=""></script><script src="/warehouse/app-97dc5b416f5e9639f3cb.js" async=""></script></body></html>